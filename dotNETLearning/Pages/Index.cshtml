@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

@* <div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div> *@

@* <h2>User form</h2>
<form method="post" action="postuser">
    <p>Name: <input name="name" /></p>
    <p>Age: <input name="age" type="number" /></p>
    <p>
        Languages: <br />
        <select multiple name="languages">
            <option>C#</option>
            <option>C++</option>
            <option>C</option>
            <option>Assembler</option>
            <option>Java</option>
        </select>
    </p>
    <input type="submit" value="Send" />
</form> *@

@* <h2>User form</h2>
<div id="message"></div>
<div>
    <p>
        Name: <br />
        <input name="userName" id="userName" />
    </p>
    <p>
        Age: <br />
        <input name="userAge" id="userAge" type="number" />
    </p>
    <button id="sendBtn">Send</button>
</div>
<script>
    document.getElementById("sendBtn").addEventListener("click", send);
    async function send() {
        const response = await fetch("/api/user", {
            method: "POST",
            headers: { "Accept": "application/json", "Content-Type": "application/json" },
            body: JSON.stringify({
                name: document.getElementById("userName").value,
                age: document.getElementById("userAge").value
            })
        });
        const message = await response.json();
        document.getElementById("message").innerText = message.text;
    }
</script> *@

